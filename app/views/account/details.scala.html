@import configuration.Config.Identity._

@(subscriberId: Option[String])(implicit request: RequestHeader, flash: Flash)

@main("Suspend and resume | The Guardian") {

    <main class="page-container gs-container">

        <section class="suspend-container">
            <form class="form js-suspend-form" action="@routes.AccountManagement.processLogin().url" method="POST" novalidate>

                @helper.CSRF.formField

                <div class="suspend-header">
                    <h1 class="suspend-header__title">Suspend and resume</h1>
                </div>

                @* ===== Plan selection ===== *@
                <div class="suspend-container__sidebar">
                    <div class="js-suspend-notices notices-container" data-set="suspend-notices">
                        <div class="js-append">
                            Suspend delivery of your print newspapers while you're away.
                        </div>
                    </div>
                </div>

                <div class="suspend-container__form">

                    <div id="yourDetails" class="field-panel js-fieldset-your-details">
                        <fieldset>
                            <legend class="field-panel__legend">
                                Your details
                            </legend>
                            <div class="field-panel__intro">
                                <div class="field-note field-note--offset">
                                @fragments.forms.securityNote()
                                </div>
                                <div class="field-note field-note--offset prose">
                                    <span class="field-note__label">Already have a Guardian account?</span>
                                    <a href="@idWebAppSigninUrl(routes.AccountManagement.login(None))">Sign in</a>
                                </div>
                            </div>
                            <div class="field-panel__edit">
                                <a href="#yourDetails" class="text-button u-button-reset js-edit-your-details" title="Edit your personal details">Edit</a>
                            </div>
                            <div class="field-panel__fields">
                                <div class="form-field js-subscriber-id">
                                    <label class="label" for="first">Subscriber ID</label>
                                    <input type="text" class="input-text js-input" name="subscriptionId" id="first"
                                    value="@subscriberId" maxlength="30" required>
                                    @fragments.forms.errorMessage("This field is required")
                                </div>
                                <div class="form-field js-suspend-last">
                                    <label class="label" for="last">Last name</label>
                                    <input type="text" class="input-text js-input" name="lastname" id="last"
                                    value="" maxlength="50" required>
                                    @fragments.forms.errorMessage("This field is required")
                                </div>
                                <div class="form-field js-suspend-last">
                                    <label class="label" for="last">Post code</label>
                                    <input type="text" class="input-text js-input" name="postcode" id="last"
                                    value="" maxlength="50" required>
                                    @fragments.forms.errorMessage("This field is required")
                                </div>
                                @if(flash.get("error").isDefined) {
                                    <div class="form-field__error-message-visible">@flash.get("error")</div>
                                }
                                <button type="submit" class="js-suspend-submit button button--primary button--large u-margin-bottom">
                                    Continue
                                </button>
                            </div>
                        </fieldset>
                    </div>

                </div>

                <div class="u-display-until-desktop" data-set="suspend-notices"></div>

            </form>

        </section>

    </main>
}
