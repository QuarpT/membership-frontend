@import model.DigitalEdition.UK
@import configuration.Config.Identity.idWebAppSigninUrl
@(
    subscriberId: Option[String]
)(implicit request: RequestHeader, flash: Flash, touchpointBackendResolution: services.TouchpointBackend.Resolution)

@main("Cancel your papers when you're away | The Guardian", edition = UK, touchpointBackendResolutionOpt = Some(touchpointBackendResolution)) {

    <main class="page-container gs-container">

        <section class="suspend-container">

            <div class="suspend-header">
                <h1 class="suspend-header__title">Cancel your papers while you're away</h1>
            </div>

            <div class="prose">
                <p>
                    You can use this service to temporarily suspend delivery of your newspapers.
                    You will need your ​​Subscriber ID​, which you can find on any correspondence.
                </p>
                <p>
                    Please give us at least 5 days notice, and we will reduce the first payment after you go away by the value of the cancelled papers, including delivery.
                </p>
                <p>
                    If you do not have your Subscriber ID to hand, or you have any other customer service enquir​ies,
                    please contact us on: <a class="u-link" href="tel:+44 330 333 6767">+44 (0) 330 333 6767</a>
                    or email <a class="u-link" href="mailto:homedelivery@@theguardian.com">homedelivery@@theguardian.com</a>.
                </p>
            </div>

            <br/>

            <form class="form js-suspend-form" action="@routes.AccountManagement.processLogin().url" method="POST" novalidate>

                @helper.CSRF.formField

                <div class="suspend-container__form">

                    <div id="yourDetails" class="field-panel js-fieldset-your-details">
                        <fieldset>
                            <legend class="field-panel__legend">
                                Your details
                            </legend>
                            <div class="field-panel__intro">
                                <div class="field-note field-note--offset">
                                @fragments.forms.securityNote()
                                </div>
                                <div class="field-note field-note--offset prose">
                                    <span class="field-note__label">Already have a Guardian account?</span>
                                    <a href="@idWebAppSigninUrl(routes.AccountManagement.manage(None, None))">Sign in</a>
                                </div>
                            </div>
                            <div class="field-panel__edit">
                                <a href="#yourDetails" class="text-button u-button-reset js-edit-your-details" title="Edit your personal details">Edit</a>
                            </div>
                            <div class="field-panel__fields">
                                <div class="form-field js-subscriber-id">
                                    <label class="label" for="first">Subscriber ID</label>
                                    <input type="text" class="input-text js-input" name="subscriptionId" id="first"
                                    value="@subscriberId" maxlength="30" required>
                                    @fragments.forms.errorMessage("This field is required")
                                </div>
                                <div class="form-field js-suspend-last">
                                    <label class="label" for="last">Last name</label>
                                    <input type="text" class="input-text js-input" name="lastname" id="last"
                                    value="" maxlength="50" required>
                                    @fragments.forms.errorMessage("This field is required")
                                </div>
                                <div class="form-field js-suspend-last">
                                    <label class="label" for="last">Post code</label>
                                    <input type="text" class="input-text js-input" name="postcode" id="last"
                                    value="" maxlength="50" required>
                                    @fragments.forms.errorMessage("This field is required")
                                </div>
                                @if(flash.get("error").isDefined) {
                                    <div class="form-field__error-message-visible">@flash.get("error")</div>
                                }
                                <button type="submit" class="js-suspend-submit button button--primary button--large u-margin-bottom">
                                    Continue
                                </button>
                            </div>
                        </fieldset>
                    </div>

                </div>

            </form>

        </section>
        <br/>
    </main>
}
