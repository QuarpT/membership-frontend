@import com.gu.memsub.Address
@import views.support.CountryWithCurrency
@(billingAddress: Option[Address], canBeHidden: Boolean, countriesWithCurrency: List[CountryWithCurrency])

@if(canBeHidden) {
    <div class="js-checkout-use-delivery">
        <label class="option">
            <span class="option__input">
                <input type="checkbox" class="js-input js-checkout-delivery-sames-as-billing" checked="true">
            </span>
            <span class="option__label">
                Deliver the paper to my billing address
            </span>
        </label>
    </div>
}

@* ===== Address ===== *@
<div class="js-billing-address @{if(canBeHidden) "is-hidden" else ""}">
    @address(billingAddress, "personal.address", countriesWithCurrency)
</div>

@* ===== Payment type ===== *@

<div data-country="GB">
    <div class="label u-margin-bottom">How would you like to pay?</div>
    <div class="field-group js-checkout-payment-method">
        <div class="field-group__item">
            <label class="option">
                <span class="option__input">
                    <input class="js-option-switch" data-option-switch=".js-payment-type-direct-debit"
                    type="radio" name="payment.type" value="direct-debit" checked>
                </span>
                <span class="option__label">Direct Debit</span>
            </label>
        </div>
        <div class="field-group__item">
            <label class="option">
                <span class="option__input">
                    <input class="js-option-switch" data-option-switch=".js-payment-type-card"
                    type="radio" name="payment.type" value="card">
                </span>
                <span class="option__label">Credit/Debit card</span>
            </label>
        </div>
    </div>
</div>

<div class="payment-type payment-type--direct-debit js-payment-type-direct-debit" data-country="GB">
    @fragments.checkout.fieldsDirectDebit()
</div>

<div class="payment-type payment-type--card js-payment-type-card">
    @fragments.checkout.fieldsCard()
</div>
