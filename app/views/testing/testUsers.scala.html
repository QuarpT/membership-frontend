@import com.gu.i18n.CountryGroup
@import com.gu.memsub.Subscriptions
@import com.gu.i18n.CountryGroup.UK
@import com.gu.subscriptions.ProductList
@import com.gu.subscriptions.ProductPlan
@import com.gu.subscriptions.PlanGroup
@(userString: String, products: List[PlanGroup[ProductList]])(implicit request: RequestHeader)

@import configuration.Config.Identity.idWebAppRegisterUrl

@main(title = "Test users") {
    <main class="page-container gs-container">
        @fragments.page.header("Test Users", None, Nil)

        <div class="prose">
            <ul class="u-unstyled">
                <li>First Name: <strong>@userString</strong></li>
                <li>Username: <strong>@userString</strong></li>
                <li>Email: <strong>@userString@@gu.com</strong></li>
            </ul>
        </div>

        <div class="actions">
            <h3>Register as an Identity user, redirecting to checkout for:</h3>
            @for(group <- products) {
                <h4>@group.name</h4>
                <dl>
                    @for(plan <- group.productPlans) {
                        <a href="@idWebAppRegisterUrl(routes.Checkout.renderCheckout(CountryGroup.UK, None, plan.slug))" style="margin-bottom: 10px" class="button button--primary button--large">@plan.name</a>
                    }
                </dl>
            }
        </div>

        <hr/>

        <div class="actions">
            <h3>Subscribe as a <em>guest</em> user to:</h3>
            @for(group <- products) {
                <h4>@group.name</h4>
                <dl>
                @for(plan <- group.productPlans) {
                    <a href="@routes.Checkout.renderCheckout(CountryGroup.UK, None, plan.slug)" style="margin-bottom: 10px" class="button button--primary button--large">@plan.name</a>
                }
                </dl>
            }
        </div>

        <hr/>

    </main>
}
